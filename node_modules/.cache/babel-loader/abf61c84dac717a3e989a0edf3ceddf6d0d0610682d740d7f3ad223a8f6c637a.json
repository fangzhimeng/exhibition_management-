{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar vue = require('vue');\nrequire('../../../hooks/index.js');\nvar useOption = require('./useOption.js');\nvar pluginVue_exportHelper = require('../../../_virtual/plugin-vue_export-helper.js');\nvar index = require('../../../hooks/use-namespace/index.js');\nvar index$1 = require('../../../hooks/use-id/index.js');\nconst _sfc_main = vue.defineComponent({\n  name: \"ElOption\",\n  componentName: \"ElOption\",\n  props: {\n    value: {\n      required: true,\n      type: [String, Number, Boolean, Object]\n    },\n    label: [String, Number],\n    created: Boolean,\n    disabled: Boolean\n  },\n  setup(props) {\n    const ns = index.useNamespace(\"select\");\n    const id = index$1.useId();\n    const containerKls = vue.computed(() => [ns.be(\"dropdown\", \"item\"), ns.is(\"disabled\", vue.unref(isDisabled)), {\n      selected: vue.unref(itemSelected),\n      hover: vue.unref(hover)\n    }]);\n    const states = vue.reactive({\n      index: -1,\n      groupDisabled: false,\n      visible: true,\n      hitState: false,\n      hover: false\n    });\n    const {\n      currentLabel,\n      itemSelected,\n      isDisabled,\n      select,\n      hoverItem\n    } = useOption.useOption(props, states);\n    const {\n      visible,\n      hover\n    } = vue.toRefs(states);\n    const vm = vue.getCurrentInstance().proxy;\n    select.onOptionCreate(vm);\n    vue.onBeforeUnmount(() => {\n      const key = vm.value;\n      const {\n        selected\n      } = select;\n      const selectedOptions = select.props.multiple ? selected : [selected];\n      const doesSelected = selectedOptions.some(item => {\n        return item.value === vm.value;\n      });\n      vue.nextTick(() => {\n        if (select.cachedOptions.get(key) === vm && !doesSelected) {\n          select.cachedOptions.delete(key);\n        }\n      });\n      select.onOptionDestroy(key, vm);\n    });\n    function selectOptionClick() {\n      if (props.disabled !== true && states.groupDisabled !== true) {\n        select.handleOptionSelect(vm);\n      }\n    }\n    return {\n      ns,\n      id,\n      containerKls,\n      currentLabel,\n      itemSelected,\n      isDisabled,\n      select,\n      hoverItem,\n      visible,\n      hover,\n      selectOptionClick,\n      states\n    };\n  }\n});\nconst _hoisted_1 = [\"id\", \"aria-disabled\", \"aria-selected\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return vue.withDirectives((vue.openBlock(), vue.createElementBlock(\"li\", {\n    id: _ctx.id,\n    class: vue.normalizeClass(_ctx.containerKls),\n    role: \"option\",\n    \"aria-disabled\": _ctx.isDisabled || void 0,\n    \"aria-selected\": _ctx.itemSelected,\n    onMouseenter: _cache[0] || (_cache[0] = (...args) => _ctx.hoverItem && _ctx.hoverItem(...args)),\n    onClick: _cache[1] || (_cache[1] = vue.withModifiers((...args) => _ctx.selectOptionClick && _ctx.selectOptionClick(...args), [\"stop\"]))\n  }, [vue.renderSlot(_ctx.$slots, \"default\", {}, () => [vue.createElementVNode(\"span\", null, vue.toDisplayString(_ctx.currentLabel), 1)])], 42, _hoisted_1)), [[vue.vShow, _ctx.visible]]);\n}\nvar Option = /* @__PURE__ */pluginVue_exportHelper[\"default\"](_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue\"]]);\nexports[\"default\"] = Option;","map":{"version":3,"names":["_sfc_main","vue","defineComponent","name","componentName","props","value","required","type","String","Number","Boolean","Object","label","created","disabled","setup","ns","index","useNamespace","id","index$1","useId","containerKls","computed","be","is","unref","isDisabled","selected","itemSelected","hover","states","reactive","groupDisabled","visible","hitState","currentLabel","select","hoverItem","useOption","toRefs","vm","getCurrentInstance","proxy","onOptionCreate","onBeforeUnmount","key","selectedOptions","multiple","doesSelected","some","item","nextTick","cachedOptions","get","delete","onOptionDestroy","selectOptionClick","handleOptionSelect","createElementBlock","_ctx","class","normalizeClass","role","onMouseenter","_cache","args","onClick","withModifiers","renderSlot","$slots","createElementVNode","toDisplayString"],"sources":["../../../../../../packages/components/select/src/option.vue"],"sourcesContent":["<template>\n  <li\n    v-show=\"visible\"\n    :id=\"id\"\n    :class=\"containerKls\"\n    role=\"option\"\n    :aria-disabled=\"isDisabled || undefined\"\n    :aria-selected=\"itemSelected\"\n    @mouseenter=\"hoverItem\"\n    @click.stop=\"selectOptionClick\"\n  >\n    <slot>\n      <span>{{ currentLabel }}</span>\n    </slot>\n  </li>\n</template>\n\n<script lang=\"ts\">\n// @ts-nocheck\nimport {\n  computed,\n  defineComponent,\n  getCurrentInstance,\n  nextTick,\n  onBeforeUnmount,\n  reactive,\n  toRefs,\n  unref,\n} from 'vue'\nimport { useId, useNamespace } from '@element-plus/hooks'\nimport { useOption } from './useOption'\nimport type { SelectOptionProxy } from './token'\n\nexport default defineComponent({\n  name: 'ElOption',\n  componentName: 'ElOption',\n\n  props: {\n    /**\n     * @description value of option\n     */\n    value: {\n      required: true,\n      type: [String, Number, Boolean, Object],\n    },\n    /**\n     * @description label of option, same as `value` if omitted\n     */\n    label: [String, Number],\n    created: Boolean,\n    /**\n     * @description whether option is disabled\n     */\n    disabled: Boolean,\n  },\n\n  setup(props) {\n    const ns = useNamespace('select')\n    const id = useId()\n\n    const containerKls = computed(() => [\n      ns.be('dropdown', 'item'),\n      ns.is('disabled', unref(isDisabled)),\n      {\n        selected: unref(itemSelected),\n        hover: unref(hover),\n      },\n    ])\n\n    const states = reactive({\n      index: -1,\n      groupDisabled: false,\n      visible: true,\n      hitState: false,\n      hover: false,\n    })\n\n    const { currentLabel, itemSelected, isDisabled, select, hoverItem } =\n      useOption(props, states)\n\n    const { visible, hover } = toRefs(states)\n\n    const vm = getCurrentInstance().proxy\n\n    select.onOptionCreate(vm as unknown as SelectOptionProxy)\n\n    onBeforeUnmount(() => {\n      const key = (vm as unknown as SelectOptionProxy).value\n      const { selected } = select\n      const selectedOptions = select.props.multiple ? selected : [selected]\n      const doesSelected = selectedOptions.some((item) => {\n        return item.value === (vm as unknown as SelectOptionProxy).value\n      })\n      // if option is not selected, remove it from cache\n      nextTick(() => {\n        if (select.cachedOptions.get(key) === vm && !doesSelected) {\n          select.cachedOptions.delete(key)\n        }\n      })\n      select.onOptionDestroy(key, vm)\n    })\n\n    function selectOptionClick() {\n      if (props.disabled !== true && states.groupDisabled !== true) {\n        select.handleOptionSelect(vm)\n      }\n    }\n\n    return {\n      ns,\n      id,\n      containerKls,\n      currentLabel,\n      itemSelected,\n      isDisabled,\n      select,\n      hoverItem,\n      visible,\n      hover,\n      selectOptionClick,\n      states,\n    }\n  },\n})\n</script>\n"],"mappings":";;;;;;;;;;;AAiCA,MAAKA,SAAA,GAAaC,GAAA,CAAAC,eAAa;EAC7BC,IAAM;EACNC,aAAe;EAEfC,KAAO;IAILC,KAAO;MACLC,QAAU;MACVC,IAAM,GAACC,MAAQ,EAAAC,MAAA,EAAQC,OAAA,EAASC,MAAM;IAAA,CACxC;IAIAC,KAAA,EAAO,CAACJ,MAAA,EAAQC,MAAM;IACtBI,OAAS,EAAAH,OAAA;IAITI,QAAU,EAAAJ;EAAA,CACZ;EAEAK,MAAMX,KAAO;IACL,MAAAY,EAAA,GAAKC,KAAA,CAAAC,YAAA,CAAa,QAAQ;IAChC,MAAMC,EAAA,GAAKC,OAAA,CAAAC,KAAM;IAEX,MAAAC,YAAA,GAAetB,GAAA,CAAAuB,QAAA,CAAS,MAAM,CAClCP,EAAA,CAAGQ,EAAG,aAAY,MAAM,GACxBR,EAAG,CAAAS,EAAA,CAAG,UAAY,EAAAzB,GAAA,CAAA0B,KAAA,CAAMC,UAAU,CAAC,GACnC;MACEC,QAAA,EAAU5B,GAAA,CAAA0B,KAAA,CAAMG,YAAY;MAC5BC,KAAA,EAAO9B,GAAA,CAAA0B,KAAA,CAAMI,KAAK;IAAA,CACpB,CACD;IAED,MAAMC,MAAA,GAAS/B,GAAA,CAAAgC,QAAS;MACtBf,KAAO;MACPgB,aAAe;MACfC,OAAS;MACTC,QAAU;MACVL,KAAO;IAAA,CACR;IAEK;MAAEM,YAAA;MAAcP,YAAc;MAAAF,UAAA;MAAYU,MAAA;MAAQC;IACtD,IAAAC,SAAA,CAAAA,SAAA,CAAUnC,KAAA,EAAO2B,MAAM;IAEzB,MAAM;MAAEG,OAAA;MAASJ;IAAU,IAAA9B,GAAA,CAAAwC,MAAA,CAAOT,MAAM;IAElC,MAAAU,EAAA,GAAKzC,GAAA,CAAA0C,kBAAA,EAAqB,CAAAC,KAAA;IAEhCN,MAAA,CAAOO,cAAA,CAAeH,EAAkC;IAExDzC,GAAA,CAAA6C,eAAA,CAAgB,MAAM;MACpB,MAAMC,GAAA,GAAOL,EAAoC,CAAApC,KAAA;MACjD,MAAM;QAAEuB;MAAa,IAAAS,MAAA;MACrB,MAAMU,eAAA,GAAkBV,MAAO,CAAAjC,KAAA,CAAM4C,QAAW,GAAApB,QAAA,GAAW,CAACA,QAAQ;MACpE,MAAMqB,YAAe,GAAAF,eAAA,CAAgBG,IAAK,CAACC,IAAS;QAC3C,OAAAA,IAAA,CAAK9C,KAAA,KAAWoC,EAAoC,CAAApC,KAAA;MAAA,CAC5D;MAEDL,GAAA,CAAAoD,QAAA,CAAS,MAAM;QACb,IAAIf,MAAA,CAAOgB,aAAc,CAAAC,GAAA,CAAIR,GAAG,CAAM,KAAAL,EAAA,IAAM,CAACQ,YAAc;UAClDZ,MAAA,CAAAgB,aAAA,CAAcE,MAAA,CAAOT,GAAG;QAAA;MACjC,CACD;MACMT,MAAA,CAAAmB,eAAA,CAAgBV,GAAA,EAAKL,EAAE;IAAA,CAC/B;IAE4B,SAAAgB,kBAAA;MAC3B,IAAIrD,KAAM,CAAAU,QAAA,KAAa,IAAQ,IAAAiB,MAAA,CAAOE,aAAA,KAAkB,IAAM;QAC5DI,MAAA,CAAOqB,kBAAA,CAAmBjB,EAAE;MAAA;IAC9B;IAGK;MACLzB,EAAA;MACAG,EAAA;MACAG,YAAA;MACAc,YAAA;MACAP,YAAA;MACAF,UAAA;MACAU,MAAA;MACAC,SAAA;MACAJ,OAAA;MACAJ,KAAA;MACA2B,iBAAA;MACA1B;IAAA,CACF;EAAA;AAEJ,CAAC;;;8CA1HC/B,GAAA,CAAA2D,kBAaK;IAXFxC,EAAI,EAAAyC,IAAA,CAAAzC,EAAA;IACJ0C,KAAA,EAAK7D,GAAA,CAAA8D,cAAA,CAAEF,IAAY,CAAAtC,YAAA;IACpByC,IAAK;IACJ,iBAAeH,IAAc,CAAAjC,UAAA;IAC7B,eAAe,EAAAiC,IAAA,CAAA/B,YAAA;IACfmC,YAAA,EAAUC,MAAE,QAAAA,MAAA,UAAAC,IAAA,KAAAN,IAAA,CAAAtB,SAAA,IAAAsB,IAAA,CAAAtB,SAAA,IAAA4B,IAAA;IACZC,OAAA,EAAKF,MAAA,QAAAA,MAAA,MAAAjE,GAAA,CAAAoE,aAAA,KAAAF,IAAA,KAAON,IAAiB,CAAAH,iBAAA,IAAAG,IAAA,CAAAH,iBAAA,IAAAS,IAAA;EAAA,IAE9BlE,GAAA,CAAAqE,UAAA,CAEOT,IAAA,CAAAU,MAAA,iBAFP,MAEO,CADLtE,GAAA,CAAAuE,kBAAA,CAA+B,cAAAvE,GAAA,CAAAwE,eAAA,CAAtBZ,IAAY,CAAAxB,YAAA,Q,iCAVfwB,IAAO,CAAA1B,OAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}