{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar shared = require('@vue/shared');\nconst useSameTarget = handleClick => {\n  if (!handleClick) {\n    return {\n      onClick: shared.NOOP,\n      onMousedown: shared.NOOP,\n      onMouseup: shared.NOOP\n    };\n  }\n  let mousedownTarget = false;\n  let mouseupTarget = false;\n  const onClick = e => {\n    if (mousedownTarget && mouseupTarget) {\n      handleClick(e);\n    }\n    mousedownTarget = mouseupTarget = false;\n  };\n  const onMousedown = e => {\n    mousedownTarget = e.target === e.currentTarget;\n  };\n  const onMouseup = e => {\n    mouseupTarget = e.target === e.currentTarget;\n  };\n  return {\n    onClick,\n    onMousedown,\n    onMouseup\n  };\n};\nexports.useSameTarget = useSameTarget;","map":{"version":3,"names":["useSameTarget","handleClick","onClick","shared","NOOP","onMousedown","onMouseup","mousedownTarget","mouseupTarget","e","target","currentTarget"],"sources":["../../../../../packages/hooks/use-same-target/index.ts"],"sourcesContent":["import { NOOP } from '@vue/shared'\n\nexport const useSameTarget = (handleClick?: (e: MouseEvent) => void) => {\n  if (!handleClick) {\n    return { onClick: NOOP, onMousedown: NOOP, onMouseup: NOOP }\n  }\n\n  let mousedownTarget = false\n  let mouseupTarget = false\n  // refer to this https://javascript.info/mouse-events-basics\n  // events fired in the order: mousedown -> mouseup -> click\n  // we need to set the mousedown handle to false after click fired.\n  const onClick = (e: MouseEvent) => {\n    // if and only if\n    if (mousedownTarget && mouseupTarget) {\n      handleClick(e)\n    }\n    mousedownTarget = mouseupTarget = false\n  }\n\n  const onMousedown = (e: MouseEvent) => {\n    // marking current mousedown target.\n    mousedownTarget = e.target === e.currentTarget\n  }\n  const onMouseup = (e: MouseEvent) => {\n    // marking current mouseup target.\n    mouseupTarget = e.target === e.currentTarget\n  }\n\n  return { onClick, onMousedown, onMouseup }\n}\n"],"mappings":";;;;;;AACY,MAACA,aAAa,GAAIC,WAAW,IAAK;EAC5C,IAAI,CAACA,WAAW,EAAE;IAChB,OAAO;MAAEC,OAAO,EAAEC,MAAA,CAAAC,IAAI;MAAEC,WAAW,EAAEF,MAAA,CAAAC,IAAI;MAAEE,SAAS,EAAEH,MAAA,CAAAC;IAAI,CAAE;EAChE;EACE,IAAIG,eAAe,GAAG,KAAK;EAC3B,IAAIC,aAAa,GAAG,KAAK;EACzB,MAAMN,OAAO,GAAIO,CAAC,IAAK;IACrB,IAAIF,eAAe,IAAIC,aAAa,EAAE;MACpCP,WAAW,CAACQ,CAAC,CAAC;IACpB;IACIF,eAAe,GAAGC,aAAa,GAAG,KAAK;EAC3C,CAAG;EACD,MAAMH,WAAW,GAAII,CAAC,IAAK;IACzBF,eAAe,GAAGE,CAAC,CAACC,MAAM,KAAKD,CAAC,CAACE,aAAa;EAClD,CAAG;EACD,MAAML,SAAS,GAAIG,CAAC,IAAK;IACvBD,aAAa,GAAGC,CAAC,CAACC,MAAM,KAAKD,CAAC,CAACE,aAAa;EAChD,CAAG;EACD,OAAO;IAAET,OAAO;IAAEG,WAAW;IAAEC;EAAS,CAAE;AAC5C"},"metadata":{},"sourceType":"script","externalDependencies":[]}