{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar vue = require('vue');\nvar index = require('../../button/index.js');\nvar index$2 = require('../../tooltip/index.js');\nvar index$1 = require('../../scrollbar/index.js');\nvar index$3 = require('../../icon/index.js');\nrequire('../../roving-focus-group/index.js');\nrequire('../../slot/index.js');\nrequire('../../form/index.js');\nrequire('../../../utils/index.js');\nvar iconsVue = require('@element-plus/icons-vue');\nrequire('../../../constants/index.js');\nrequire('../../../hooks/index.js');\nvar dropdown = require('./dropdown.js');\nvar tokens = require('./tokens.js');\nvar pluginVue_exportHelper = require('../../../_virtual/plugin-vue_export-helper.js');\nvar rovingFocusGroup = require('../../roving-focus-group/src/roving-focus-group2.js');\nvar onlyChild = require('../../slot/src/only-child.js');\nvar index$4 = require('../../../hooks/use-namespace/index.js');\nvar index$5 = require('../../../hooks/use-locale/index.js');\nvar aria = require('../../../constants/aria.js');\nvar style = require('../../../utils/dom/style.js');\nvar lodashUnified = require('lodash-unified');\nvar index$6 = require('../../../hooks/use-id/index.js');\nvar useFormCommonProps = require('../../form/src/hooks/use-form-common-props.js');\nconst {\n  ButtonGroup: ElButtonGroup\n} = index.ElButton;\nconst _sfc_main = vue.defineComponent({\n  name: \"ElDropdown\",\n  components: {\n    ElButton: index.ElButton,\n    ElButtonGroup,\n    ElScrollbar: index$1.ElScrollbar,\n    ElDropdownCollection: dropdown.ElCollection,\n    ElTooltip: index$2.ElTooltip,\n    ElRovingFocusGroup: rovingFocusGroup[\"default\"],\n    ElOnlyChild: onlyChild.OnlyChild,\n    ElIcon: index$3.ElIcon,\n    ArrowDown: iconsVue.ArrowDown\n  },\n  props: dropdown.dropdownProps,\n  emits: [\"visible-change\", \"click\", \"command\"],\n  setup(props, {\n    emit\n  }) {\n    const _instance = vue.getCurrentInstance();\n    const ns = index$4.useNamespace(\"dropdown\");\n    const {\n      t\n    } = index$5.useLocale();\n    const triggeringElementRef = vue.ref();\n    const referenceElementRef = vue.ref();\n    const popperRef = vue.ref(null);\n    const contentRef = vue.ref(null);\n    const scrollbar = vue.ref(null);\n    const currentTabId = vue.ref(null);\n    const isUsingKeyboard = vue.ref(false);\n    const triggerKeys = [aria.EVENT_CODE.enter, aria.EVENT_CODE.space, aria.EVENT_CODE.down];\n    const wrapStyle = vue.computed(() => ({\n      maxHeight: style.addUnit(props.maxHeight)\n    }));\n    const dropdownTriggerKls = vue.computed(() => [ns.m(dropdownSize.value)]);\n    const trigger = vue.computed(() => lodashUnified.castArray(props.trigger));\n    const defaultTriggerId = index$6.useId().value;\n    const triggerId = vue.computed(() => {\n      return props.id || defaultTriggerId;\n    });\n    vue.watch([triggeringElementRef, trigger], ([triggeringElement, trigger2], [prevTriggeringElement]) => {\n      var _a, _b, _c;\n      if ((_a = prevTriggeringElement == null ? void 0 : prevTriggeringElement.$el) == null ? void 0 : _a.removeEventListener) {\n        prevTriggeringElement.$el.removeEventListener(\"pointerenter\", onAutofocusTriggerEnter);\n      }\n      if ((_b = triggeringElement == null ? void 0 : triggeringElement.$el) == null ? void 0 : _b.removeEventListener) {\n        triggeringElement.$el.removeEventListener(\"pointerenter\", onAutofocusTriggerEnter);\n      }\n      if (((_c = triggeringElement == null ? void 0 : triggeringElement.$el) == null ? void 0 : _c.addEventListener) && trigger2.includes(\"hover\")) {\n        triggeringElement.$el.addEventListener(\"pointerenter\", onAutofocusTriggerEnter);\n      }\n    }, {\n      immediate: true\n    });\n    vue.onBeforeUnmount(() => {\n      var _a, _b;\n      if ((_b = (_a = triggeringElementRef.value) == null ? void 0 : _a.$el) == null ? void 0 : _b.removeEventListener) {\n        triggeringElementRef.value.$el.removeEventListener(\"pointerenter\", onAutofocusTriggerEnter);\n      }\n    });\n    function handleClick() {\n      handleClose();\n    }\n    function handleClose() {\n      var _a;\n      (_a = popperRef.value) == null ? void 0 : _a.onClose();\n    }\n    function handleOpen() {\n      var _a;\n      (_a = popperRef.value) == null ? void 0 : _a.onOpen();\n    }\n    const dropdownSize = useFormCommonProps.useFormSize();\n    function commandHandler(...args) {\n      emit(\"command\", ...args);\n    }\n    function onAutofocusTriggerEnter() {\n      var _a, _b;\n      (_b = (_a = triggeringElementRef.value) == null ? void 0 : _a.$el) == null ? void 0 : _b.focus();\n    }\n    function onItemEnter() {}\n    function onItemLeave() {\n      const contentEl = vue.unref(contentRef);\n      trigger.value.includes(\"hover\") && (contentEl == null ? void 0 : contentEl.focus());\n      currentTabId.value = null;\n    }\n    function handleCurrentTabIdChange(id) {\n      currentTabId.value = id;\n    }\n    function handleEntryFocus(e) {\n      if (!isUsingKeyboard.value) {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n      }\n    }\n    function handleBeforeShowTooltip() {\n      emit(\"visible-change\", true);\n    }\n    function handleShowTooltip(event) {\n      if ((event == null ? void 0 : event.type) === \"keydown\") {\n        contentRef.value.focus();\n      }\n    }\n    function handleBeforeHideTooltip() {\n      emit(\"visible-change\", false);\n    }\n    vue.provide(tokens.DROPDOWN_INJECTION_KEY, {\n      contentRef,\n      role: vue.computed(() => props.role),\n      triggerId,\n      isUsingKeyboard,\n      onItemEnter,\n      onItemLeave\n    });\n    vue.provide(\"elDropdown\", {\n      instance: _instance,\n      dropdownSize,\n      handleClick,\n      commandHandler,\n      trigger: vue.toRef(props, \"trigger\"),\n      hideOnClick: vue.toRef(props, \"hideOnClick\")\n    });\n    const onFocusAfterTrapped = e => {\n      var _a, _b;\n      e.preventDefault();\n      (_b = (_a = contentRef.value) == null ? void 0 : _a.focus) == null ? void 0 : _b.call(_a, {\n        preventScroll: true\n      });\n    };\n    const handlerMainButtonClick = event => {\n      emit(\"click\", event);\n    };\n    return {\n      t,\n      ns,\n      scrollbar,\n      wrapStyle,\n      dropdownTriggerKls,\n      dropdownSize,\n      triggerId,\n      triggerKeys,\n      currentTabId,\n      handleCurrentTabIdChange,\n      handlerMainButtonClick,\n      handleEntryFocus,\n      handleClose,\n      handleOpen,\n      handleBeforeShowTooltip,\n      handleShowTooltip,\n      handleBeforeHideTooltip,\n      onFocusAfterTrapped,\n      popperRef,\n      contentRef,\n      triggeringElementRef,\n      referenceElementRef\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _a;\n  const _component_el_dropdown_collection = vue.resolveComponent(\"el-dropdown-collection\");\n  const _component_el_roving_focus_group = vue.resolveComponent(\"el-roving-focus-group\");\n  const _component_el_scrollbar = vue.resolveComponent(\"el-scrollbar\");\n  const _component_el_only_child = vue.resolveComponent(\"el-only-child\");\n  const _component_el_tooltip = vue.resolveComponent(\"el-tooltip\");\n  const _component_el_button = vue.resolveComponent(\"el-button\");\n  const _component_arrow_down = vue.resolveComponent(\"arrow-down\");\n  const _component_el_icon = vue.resolveComponent(\"el-icon\");\n  const _component_el_button_group = vue.resolveComponent(\"el-button-group\");\n  return vue.openBlock(), vue.createElementBlock(\"div\", {\n    class: vue.normalizeClass([_ctx.ns.b(), _ctx.ns.is(\"disabled\", _ctx.disabled)])\n  }, [vue.createVNode(_component_el_tooltip, {\n    ref: \"popperRef\",\n    role: _ctx.role,\n    effect: _ctx.effect,\n    \"fallback-placements\": [\"bottom\", \"top\"],\n    \"popper-options\": _ctx.popperOptions,\n    \"gpu-acceleration\": false,\n    \"hide-after\": _ctx.trigger === \"hover\" ? _ctx.hideTimeout : 0,\n    \"manual-mode\": true,\n    placement: _ctx.placement,\n    \"popper-class\": [_ctx.ns.e(\"popper\"), _ctx.popperClass],\n    \"reference-element\": (_a = _ctx.referenceElementRef) == null ? void 0 : _a.$el,\n    trigger: _ctx.trigger,\n    \"trigger-keys\": _ctx.triggerKeys,\n    \"trigger-target-el\": _ctx.contentRef,\n    \"show-after\": _ctx.trigger === \"hover\" ? _ctx.showTimeout : 0,\n    \"stop-popper-mouse-event\": false,\n    \"virtual-ref\": _ctx.triggeringElementRef,\n    \"virtual-triggering\": _ctx.splitButton,\n    disabled: _ctx.disabled,\n    transition: `${_ctx.ns.namespace.value}-zoom-in-top`,\n    teleported: _ctx.teleported,\n    pure: \"\",\n    persistent: \"\",\n    onBeforeShow: _ctx.handleBeforeShowTooltip,\n    onShow: _ctx.handleShowTooltip,\n    onBeforeHide: _ctx.handleBeforeHideTooltip\n  }, vue.createSlots({\n    content: vue.withCtx(() => [vue.createVNode(_component_el_scrollbar, {\n      ref: \"scrollbar\",\n      \"wrap-style\": _ctx.wrapStyle,\n      tag: \"div\",\n      \"view-class\": _ctx.ns.e(\"list\")\n    }, {\n      default: vue.withCtx(() => [vue.createVNode(_component_el_roving_focus_group, {\n        loop: _ctx.loop,\n        \"current-tab-id\": _ctx.currentTabId,\n        orientation: \"horizontal\",\n        onCurrentTabIdChange: _ctx.handleCurrentTabIdChange,\n        onEntryFocus: _ctx.handleEntryFocus\n      }, {\n        default: vue.withCtx(() => [vue.createVNode(_component_el_dropdown_collection, null, {\n          default: vue.withCtx(() => [vue.renderSlot(_ctx.$slots, \"dropdown\")]),\n          _: 3\n        })]),\n        _: 3\n      }, 8, [\"loop\", \"current-tab-id\", \"onCurrentTabIdChange\", \"onEntryFocus\"])]),\n      _: 3\n    }, 8, [\"wrap-style\", \"view-class\"])]),\n    _: 2\n  }, [!_ctx.splitButton ? {\n    name: \"default\",\n    fn: vue.withCtx(() => [vue.createVNode(_component_el_only_child, {\n      id: _ctx.triggerId,\n      ref: \"triggeringElementRef\",\n      role: \"button\",\n      tabindex: _ctx.tabindex\n    }, {\n      default: vue.withCtx(() => [vue.renderSlot(_ctx.$slots, \"default\")]),\n      _: 3\n    }, 8, [\"id\", \"tabindex\"])])\n  } : void 0]), 1032, [\"role\", \"effect\", \"popper-options\", \"hide-after\", \"placement\", \"popper-class\", \"reference-element\", \"trigger\", \"trigger-keys\", \"trigger-target-el\", \"show-after\", \"virtual-ref\", \"virtual-triggering\", \"disabled\", \"transition\", \"teleported\", \"onBeforeShow\", \"onShow\", \"onBeforeHide\"]), _ctx.splitButton ? (vue.openBlock(), vue.createBlock(_component_el_button_group, {\n    key: 0\n  }, {\n    default: vue.withCtx(() => [vue.createVNode(_component_el_button, vue.mergeProps({\n      ref: \"referenceElementRef\"\n    }, _ctx.buttonProps, {\n      size: _ctx.dropdownSize,\n      type: _ctx.type,\n      disabled: _ctx.disabled,\n      tabindex: _ctx.tabindex,\n      onClick: _ctx.handlerMainButtonClick\n    }), {\n      default: vue.withCtx(() => [vue.renderSlot(_ctx.$slots, \"default\")]),\n      _: 3\n    }, 16, [\"size\", \"type\", \"disabled\", \"tabindex\", \"onClick\"]), vue.createVNode(_component_el_button, vue.mergeProps({\n      id: _ctx.triggerId,\n      ref: \"triggeringElementRef\"\n    }, _ctx.buttonProps, {\n      role: \"button\",\n      size: _ctx.dropdownSize,\n      type: _ctx.type,\n      class: _ctx.ns.e(\"caret-button\"),\n      disabled: _ctx.disabled,\n      tabindex: _ctx.tabindex,\n      \"aria-label\": _ctx.t(\"el.dropdown.toggleDropdown\")\n    }), {\n      default: vue.withCtx(() => [vue.createVNode(_component_el_icon, {\n        class: vue.normalizeClass(_ctx.ns.e(\"icon\"))\n      }, {\n        default: vue.withCtx(() => [vue.createVNode(_component_arrow_down)]),\n        _: 1\n      }, 8, [\"class\"])]),\n      _: 1\n    }, 16, [\"id\", \"size\", \"type\", \"class\", \"disabled\", \"tabindex\", \"aria-label\"])]),\n    _: 3\n  })) : vue.createCommentVNode(\"v-if\", true)], 2);\n}\nvar Dropdown = /* @__PURE__ */pluginVue_exportHelper[\"default\"](_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue\"]]);\nexports[\"default\"] = Dropdown;","map":{"version":3,"names":["ButtonGroup","ElButtonGroup","index","ElButton","_sfc_main","vue","defineComponent","name","components","ElScrollbar","index$1","ElDropdownCollection","dropdown","ElCollection","ElTooltip","index$2","ElRovingFocusGroup","rovingFocusGroup","ElOnlyChild","onlyChild","OnlyChild","ElIcon","index$3","ArrowDown","iconsVue","props","dropdownProps","emits","setup","emit","_instance","getCurrentInstance","ns","index$4","useNamespace","t","index$5","useLocale","triggeringElementRef","ref","referenceElementRef","popperRef","contentRef","scrollbar","currentTabId","isUsingKeyboard","triggerKeys","aria","EVENT_CODE","enter","space","down","wrapStyle","computed","maxHeight","style","addUnit","dropdownTriggerKls","m","dropdownSize","value","trigger","lodashUnified","castArray","defaultTriggerId","index$6","useId","triggerId","id","watch","triggeringElement","trigger2","prevTriggeringElement","_a","_b","_c","$el","removeEventListener","onAutofocusTriggerEnter","addEventListener","includes","immediate","onBeforeUnmount","handleClick","handleClose","onClose","handleOpen","onOpen","useFormCommonProps","useFormSize","commandHandler","args","focus","onItemEnter","onItemLeave","contentEl","unref","handleCurrentTabIdChange","handleEntryFocus","e","preventDefault","stopImmediatePropagation","handleBeforeShowTooltip","handleShowTooltip","event","type","handleBeforeHideTooltip","provide","tokens","DROPDOWN_INJECTION_KEY","role","instance","toRef","hideOnClick","onFocusAfterTrapped","call","preventScroll","handlerMainButtonClick","resolveComponent","_component_el_only_child","_component_el_tooltip","_component_el_button","_component_arrow_down","_component_el_icon","_component_el_button_group","openBlock","createElementBlock","class","normalizeClass","_ctx","b","is","disabled","createVNode","effect","popperOptions","hideTimeout","placement","popperClass","showTimeout","splitButton","transition","namespace","teleported","pure","persistent","onBeforeShow","onShow","onBeforeHide","createSlots","_component_el_scrollbar","tag","default","withCtx","loop","orientation","onCurrentTabIdChange","_","renderSlot","$slots","createBlock","key","mergeProps","buttonProps","size","onClick"],"sources":["../../../../../../packages/components/dropdown/src/dropdown.vue"],"sourcesContent":["<template>\n  <div :class=\"[ns.b(), ns.is('disabled', disabled)]\">\n    <el-tooltip\n      ref=\"popperRef\"\n      :role=\"role\"\n      :effect=\"effect\"\n      :fallback-placements=\"['bottom', 'top']\"\n      :popper-options=\"popperOptions\"\n      :gpu-acceleration=\"false\"\n      :hide-after=\"trigger === 'hover' ? hideTimeout : 0\"\n      :manual-mode=\"true\"\n      :placement=\"placement\"\n      :popper-class=\"[ns.e('popper'), popperClass]\"\n      :reference-element=\"referenceElementRef?.$el\"\n      :trigger=\"trigger\"\n      :trigger-keys=\"triggerKeys\"\n      :trigger-target-el=\"contentRef\"\n      :show-after=\"trigger === 'hover' ? showTimeout : 0\"\n      :stop-popper-mouse-event=\"false\"\n      :virtual-ref=\"triggeringElementRef\"\n      :virtual-triggering=\"splitButton\"\n      :disabled=\"disabled\"\n      :transition=\"`${ns.namespace.value}-zoom-in-top`\"\n      :teleported=\"teleported\"\n      pure\n      persistent\n      @before-show=\"handleBeforeShowTooltip\"\n      @show=\"handleShowTooltip\"\n      @before-hide=\"handleBeforeHideTooltip\"\n    >\n      <template #content>\n        <el-scrollbar\n          ref=\"scrollbar\"\n          :wrap-style=\"wrapStyle\"\n          tag=\"div\"\n          :view-class=\"ns.e('list')\"\n        >\n          <el-roving-focus-group\n            :loop=\"loop\"\n            :current-tab-id=\"currentTabId\"\n            orientation=\"horizontal\"\n            @current-tab-id-change=\"handleCurrentTabIdChange\"\n            @entry-focus=\"handleEntryFocus\"\n          >\n            <el-dropdown-collection>\n              <slot name=\"dropdown\" />\n            </el-dropdown-collection>\n          </el-roving-focus-group>\n        </el-scrollbar>\n      </template>\n      <template v-if=\"!splitButton\" #default>\n        <el-only-child\n          :id=\"triggerId\"\n          ref=\"triggeringElementRef\"\n          role=\"button\"\n          :tabindex=\"tabindex\"\n        >\n          <slot name=\"default\" />\n        </el-only-child>\n      </template>\n    </el-tooltip>\n    <template v-if=\"splitButton\">\n      <el-button-group>\n        <el-button\n          ref=\"referenceElementRef\"\n          v-bind=\"buttonProps\"\n          :size=\"dropdownSize\"\n          :type=\"type\"\n          :disabled=\"disabled\"\n          :tabindex=\"tabindex\"\n          @click=\"handlerMainButtonClick\"\n        >\n          <slot name=\"default\" />\n        </el-button>\n        <el-button\n          :id=\"triggerId\"\n          ref=\"triggeringElementRef\"\n          v-bind=\"buttonProps\"\n          role=\"button\"\n          :size=\"dropdownSize\"\n          :type=\"type\"\n          :class=\"ns.e('caret-button')\"\n          :disabled=\"disabled\"\n          :tabindex=\"tabindex\"\n          :aria-label=\"t('el.dropdown.toggleDropdown')\"\n        >\n          <el-icon :class=\"ns.e('icon')\"><arrow-down /></el-icon>\n        </el-button>\n      </el-button-group>\n    </template>\n  </div>\n</template>\n<script lang=\"ts\">\n// @ts-nocheck\nimport {\n  computed,\n  defineComponent,\n  getCurrentInstance,\n  onBeforeUnmount,\n  provide,\n  ref,\n  toRef,\n  unref,\n  watch,\n} from 'vue'\nimport ElButton from '@element-plus/components/button'\nimport ElTooltip from '@element-plus/components/tooltip'\nimport ElScrollbar from '@element-plus/components/scrollbar'\nimport ElIcon from '@element-plus/components/icon'\nimport ElRovingFocusGroup from '@element-plus/components/roving-focus-group'\nimport { ElOnlyChild } from '@element-plus/components/slot'\nimport { useFormSize } from '@element-plus/components/form'\nimport { addUnit, ensureArray } from '@element-plus/utils'\nimport { ArrowDown } from '@element-plus/icons-vue'\nimport { EVENT_CODE } from '@element-plus/constants'\nimport { useId, useLocale, useNamespace } from '@element-plus/hooks'\nimport { ElCollection as ElDropdownCollection, dropdownProps } from './dropdown'\nimport { DROPDOWN_INJECTION_KEY } from './tokens'\n\nimport type { CSSProperties } from 'vue'\n\nconst { ButtonGroup: ElButtonGroup } = ElButton\n\nexport default defineComponent({\n  name: 'ElDropdown',\n  components: {\n    ElButton,\n    ElButtonGroup,\n    ElScrollbar,\n    ElDropdownCollection,\n    ElTooltip,\n    ElRovingFocusGroup,\n    ElOnlyChild,\n    ElIcon,\n    ArrowDown,\n  },\n  props: dropdownProps,\n  emits: ['visible-change', 'click', 'command'],\n  setup(props, { emit }) {\n    const _instance = getCurrentInstance()\n    const ns = useNamespace('dropdown')\n    const { t } = useLocale()\n\n    const triggeringElementRef = ref()\n    const referenceElementRef = ref()\n    const popperRef = ref<InstanceType<typeof ElTooltip> | null>(null)\n    const contentRef = ref<HTMLElement | null>(null)\n    const scrollbar = ref(null)\n    const currentTabId = ref<string | null>(null)\n    const isUsingKeyboard = ref(false)\n    const triggerKeys = [EVENT_CODE.enter, EVENT_CODE.space, EVENT_CODE.down]\n\n    const wrapStyle = computed<CSSProperties>(() => ({\n      maxHeight: addUnit(props.maxHeight),\n    }))\n    const dropdownTriggerKls = computed(() => [ns.m(dropdownSize.value)])\n    const trigger = computed(() => ensureArray(props.trigger))\n\n    const defaultTriggerId = useId().value\n    const triggerId = computed<string>(() => {\n      return props.id || defaultTriggerId\n    })\n\n    // The goal of this code is to focus on the tooltip triggering element when it is hovered.\n    // This is a temporary fix for where closing the dropdown through pointerleave event focuses on a\n    // completely different element. For a permanent solution, remove all calls to any \"element.focus()\"\n    // that are triggered through pointer enter/leave events.\n    watch(\n      [triggeringElementRef, trigger],\n      ([triggeringElement, trigger], [prevTriggeringElement]) => {\n        if (prevTriggeringElement?.$el?.removeEventListener) {\n          prevTriggeringElement.$el.removeEventListener(\n            'pointerenter',\n            onAutofocusTriggerEnter\n          )\n        }\n        if (triggeringElement?.$el?.removeEventListener) {\n          triggeringElement.$el.removeEventListener(\n            'pointerenter',\n            onAutofocusTriggerEnter\n          )\n        }\n        if (\n          triggeringElement?.$el?.addEventListener &&\n          trigger.includes('hover')\n        ) {\n          triggeringElement.$el.addEventListener(\n            'pointerenter',\n            onAutofocusTriggerEnter\n          )\n        }\n      },\n      { immediate: true }\n    )\n\n    onBeforeUnmount(() => {\n      if (triggeringElementRef.value?.$el?.removeEventListener) {\n        triggeringElementRef.value.$el.removeEventListener(\n          'pointerenter',\n          onAutofocusTriggerEnter\n        )\n      }\n    })\n\n    function handleClick() {\n      handleClose()\n    }\n\n    function handleClose() {\n      popperRef.value?.onClose()\n    }\n\n    function handleOpen() {\n      popperRef.value?.onOpen()\n    }\n\n    const dropdownSize = useFormSize()\n\n    function commandHandler(...args: any[]) {\n      emit('command', ...args)\n    }\n\n    function onAutofocusTriggerEnter() {\n      triggeringElementRef.value?.$el?.focus()\n    }\n\n    function onItemEnter() {\n      // NOOP for now\n    }\n\n    function onItemLeave() {\n      const contentEl = unref(contentRef)\n\n      trigger.value.includes('hover') && contentEl?.focus()\n      currentTabId.value = null\n    }\n\n    function handleCurrentTabIdChange(id: string) {\n      currentTabId.value = id\n    }\n\n    function handleEntryFocus(e: Event) {\n      if (!isUsingKeyboard.value) {\n        e.preventDefault()\n        e.stopImmediatePropagation()\n      }\n    }\n\n    function handleBeforeShowTooltip() {\n      emit('visible-change', true)\n    }\n\n    function handleShowTooltip(event?: Event) {\n      if (event?.type === 'keydown') {\n        contentRef.value.focus()\n      }\n    }\n\n    function handleBeforeHideTooltip() {\n      emit('visible-change', false)\n    }\n\n    provide(DROPDOWN_INJECTION_KEY, {\n      contentRef,\n      role: computed(() => props.role),\n      triggerId,\n      isUsingKeyboard,\n      onItemEnter,\n      onItemLeave,\n    })\n\n    provide('elDropdown', {\n      instance: _instance,\n      dropdownSize,\n      handleClick,\n      commandHandler,\n      trigger: toRef(props, 'trigger'),\n      hideOnClick: toRef(props, 'hideOnClick'),\n    })\n\n    const onFocusAfterTrapped = (e: Event) => {\n      e.preventDefault()\n      contentRef.value?.focus?.({\n        preventScroll: true,\n      })\n    }\n\n    const handlerMainButtonClick = (event: MouseEvent) => {\n      emit('click', event)\n    }\n\n    return {\n      t,\n      ns,\n      scrollbar,\n      wrapStyle,\n      dropdownTriggerKls,\n      dropdownSize,\n      triggerId,\n      triggerKeys,\n      currentTabId,\n      handleCurrentTabIdChange,\n      handlerMainButtonClick,\n      handleEntryFocus,\n      handleClose,\n      handleOpen,\n      handleBeforeShowTooltip,\n      handleShowTooltip,\n      handleBeforeHideTooltip,\n      onFocusAfterTrapped,\n      popperRef,\n      contentRef,\n      triggeringElementRef,\n      referenceElementRef,\n    }\n  },\n})\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}