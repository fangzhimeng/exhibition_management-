{"ast":null,"code":"export default {\n  data() {\n    return {\n      treeData: [],\n      isALLCheck: false,\n      //\n      option: {\n        defaultExpandAll: true,\n        multiple: true,\n        filter: false,\n        menu: false,\n        formOption: {\n          labelWidth: 100,\n          column: [{\n            label: '自定义项',\n            prop: 'label'\n          }, {\n            label: '测试',\n            prop: 'test'\n          }]\n        }\n      }\n    };\n  },\n  /**\n   * 全选/全不选\n   */\n  checkALL() {\n    //console.log('menuTree',this.$refs.menuTree);\n    this.isALLCheck = !this.isALLCheck;\n    var data = this.$refs.menuTree.data;\n    for (var i = 0; i < data.length; i++) {\n      this.$refs.menuTree.setChecked(data[i], this.isALLCheck, true);\n    }\n  },\n  /**\n   * 保存功能\n   */\n  save() {\n    var that = this;\n    //\n    this.roleId;\n    debugger;\n    //\n    console.log('menuTree', this.$refs.menuTree);\n    var data = this.$refs.menuTree.getCheckedNodes();\n    for (var i = 0; i < data.length; i++) {\n      var checked = data[i];\n      console.log(checked);\n    }\n    //\n  }\n};\n\n//   const QueryTree = defineAsyncComponent(\n//     () => import(\"/@/components/QueryTree/index.vue\")\n// );\n//\n// const state = reactive({\n//   queryList: (name: String) => {\n//     return api({\n//       name: name,\n//     });\n//   },\n// });\n//\n// const handleNodeClick = (e: any) => {};","map":{"version":3,"names":["data","treeData","isALLCheck","option","defaultExpandAll","multiple","filter","menu","formOption","labelWidth","column","label","prop","checkALL","$refs","menuTree","i","length","setChecked","save","that","roleId","console","log","getCheckedNodes","checked"],"sources":["/Users/fangzhimeng/project/my-vue-project1/src/views/data_center.vue"],"sourcesContent":["<template>\n  <basic-container>\n    <avue-crud\n        :page.sync=\"page\"\n        :data=\"tableData\"\n        :table-loading=\"tableLoading\"\n        :option=\"tableOption\"\n        @on-load=\"getList\"\n        @search-change=\"searchChange\"\n        @search-reset=\"searchReset\"\n        @refresh-change=\"refreshChange\"\n        @size-change=\"sizeChange\"\n        @current-change=\"currentChange\"\n        @row-update=\"handleUpdate\"\n        @row-save=\"handleSave\"\n        @row-del=\"handleDel\"\n    >\n    </avue-crud>\n  </basic-container>\n\n  <div  class=\"table-container\">\n\n<!--    <query-tree :query=\"state.queryList\" @node-click=\"handleNodeClick\">-->\n<!--    </query-tree>-->\n\n\n        <el-button type=\"primary\" @click=\"checkALL\">全选/全不选</el-button>\n        <el-button type=\"primary\" @click=\"save\"\n                   style=\"left: 200px; top: 20px; position: absolute; z-index:9999\">保存</el-button>\n        <avue-tree ref=\"tree\" :option=\"option\" :data=\"treeData\"   multiple\n                   v-model=\"form\" @check-change=\"checkChange\" class=\"width:100%,height:calc(100% - 40px);\">\n        </avue-tree>\n\n\n\n\n  </div>\n</template>\n<script>\nexport default {\n\n\n  data() {\n    return {\n      treeData: [],\n      isALLCheck: false,\n      //\n      option: {\n        defaultExpandAll: true,\n        multiple: true,\n        filter: false,\n        menu: false,\n        formOption: {\n          labelWidth: 100,\n          column: [{\n            label: '自定义项',\n            prop: 'label'\n          }, {\n            label: '测试',\n            prop: 'test'\n          }],\n        }\n      }\n    }\n  },\n  /**\n   * 全选/全不选\n   */\n  checkALL() {\n    //console.log('menuTree',this.$refs.menuTree);\n    this.isALLCheck = !this.isALLCheck;\n    var data = this.$refs.menuTree.data;\n    for (var i = 0; i < data.length; i++) {\n      this.$refs.menuTree.setChecked(data[i], this.isALLCheck, true);\n    }\n  },\n  /**\n   * 保存功能\n   */\n  save() {\n    var that = this;\n    //\n    this.roleId;\n    debugger\n    //\n    console.log('menuTree', this.$refs.menuTree);\n    var data = this.$refs.menuTree.getCheckedNodes();\n    for (var i = 0; i < data.length; i++) {\n      var checked = data[i];\n      console.log(checked);\n    }\n    //\n  }\n}\n\n//   const QueryTree = defineAsyncComponent(\n//     () => import(\"/@/components/QueryTree/index.vue\")\n// );\n//\n// const state = reactive({\n//   queryList: (name: String) => {\n//     return api({\n//       name: name,\n//     });\n//   },\n// });\n//\n// const handleNodeClick = (e: any) => {};\n\n</script>\n<style scoped>\n.table-container {\n  overflow-y: scroll; /* 创建垂直滚动条 */\n  max-height: 400px; /* 根据需求设定最大高度 */\n}\n</style>"],"mappings":"AAuCA,eAAe;EAGbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,UAAU,EAAE,KAAK;MACjB;MACAC,MAAM,EAAE;QACNC,gBAAgB,EAAE,IAAI;QACtBC,QAAQ,EAAE,IAAI;QACdC,MAAM,EAAE,KAAK;QACbC,IAAI,EAAE,KAAK;QACXC,UAAU,EAAE;UACVC,UAAU,EAAE,GAAG;UACfC,MAAM,EAAE,CAAC;YACPC,KAAK,EAAE,MAAM;YACbC,IAAI,EAAE;UACR,CAAC,EAAE;YACDD,KAAK,EAAE,IAAI;YACXC,IAAI,EAAE;UACR,CAAC;QACH;MACF;IACF;EACF,CAAC;EACD;;;EAGAC,QAAQA,CAAA,EAAG;IACT;IACA,IAAI,CAACX,UAAS,GAAI,CAAC,IAAI,CAACA,UAAU;IAClC,IAAIF,IAAG,GAAI,IAAI,CAACc,KAAK,CAACC,QAAQ,CAACf,IAAI;IACnC,KAAK,IAAIgB,CAAA,GAAI,CAAC,EAAEA,CAAA,GAAIhB,IAAI,CAACiB,MAAM,EAAED,CAAC,EAAE,EAAE;MACpC,IAAI,CAACF,KAAK,CAACC,QAAQ,CAACG,UAAU,CAAClB,IAAI,CAACgB,CAAC,CAAC,EAAE,IAAI,CAACd,UAAU,EAAE,IAAI,CAAC;IAChE;EACF,CAAC;EACD;;;EAGAiB,IAAIA,CAAA,EAAG;IACL,IAAIC,IAAG,GAAI,IAAI;IACf;IACA,IAAI,CAACC,MAAM;IACX;IACA;IACAC,OAAO,CAACC,GAAG,CAAC,UAAU,EAAE,IAAI,CAACT,KAAK,CAACC,QAAQ,CAAC;IAC5C,IAAIf,IAAG,GAAI,IAAI,CAACc,KAAK,CAACC,QAAQ,CAACS,eAAe,CAAC,CAAC;IAChD,KAAK,IAAIR,CAAA,GAAI,CAAC,EAAEA,CAAA,GAAIhB,IAAI,CAACiB,MAAM,EAAED,CAAC,EAAE,EAAE;MACpC,IAAIS,OAAM,GAAIzB,IAAI,CAACgB,CAAC,CAAC;MACrBM,OAAO,CAACC,GAAG,CAACE,OAAO,CAAC;IACtB;IACA;EACF;AACF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}