{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar vue = require('vue');\nvar lodashUnified = require('lodash-unified');\nrequire('../../../../utils/index.js');\nrequire('../components/index.js');\nvar constants = require('../constants.js');\nvar _private = require('../private.js');\nvar utils = require('../utils.js');\nvar cell = require('../components/cell.js');\nvar shared = require('@vue/shared');\nvar expandIcon = require('../components/expand-icon.js');\nconst CellRenderer = ({\n  columns,\n  column,\n  columnIndex,\n  depth,\n  expandIconProps,\n  isScrolling,\n  rowData,\n  rowIndex,\n  style,\n  expandedRowKeys,\n  ns,\n  cellProps: _cellProps,\n  expandColumnKey,\n  indentSize,\n  iconSize,\n  rowKey\n}, {\n  slots\n}) => {\n  const cellStyle = utils.enforceUnit(style);\n  if (column.placeholderSign === _private.placeholderSign) {\n    return vue.createVNode(\"div\", {\n      \"class\": ns.em(\"row-cell\", \"placeholder\"),\n      \"style\": cellStyle\n    }, null);\n  }\n  const {\n    cellRenderer,\n    dataKey,\n    dataGetter\n  } = column;\n  const columnCellRenderer = utils.componentToSlot(cellRenderer);\n  const CellComponent = columnCellRenderer || slots.default || (props => vue.createVNode(cell[\"default\"], props, null));\n  const cellData = shared.isFunction(dataGetter) ? dataGetter({\n    columns,\n    column,\n    columnIndex,\n    rowData,\n    rowIndex\n  }) : lodashUnified.get(rowData, dataKey != null ? dataKey : \"\");\n  const extraCellProps = utils.tryCall(_cellProps, {\n    cellData,\n    columns,\n    column,\n    columnIndex,\n    rowIndex,\n    rowData\n  });\n  const cellProps = {\n    class: ns.e(\"cell-text\"),\n    columns,\n    column,\n    columnIndex,\n    cellData,\n    isScrolling,\n    rowData,\n    rowIndex\n  };\n  const Cell = CellComponent(cellProps);\n  const kls = [ns.e(\"row-cell\"), column.class, column.align === constants.Alignment.CENTER && ns.is(\"align-center\"), column.align === constants.Alignment.RIGHT && ns.is(\"align-right\")];\n  const expandable = rowIndex >= 0 && expandColumnKey && column.key === expandColumnKey;\n  const expanded = rowIndex >= 0 && expandedRowKeys.includes(rowData[rowKey]);\n  let IconOrPlaceholder;\n  const iconStyle = `margin-inline-start: ${depth * indentSize}px;`;\n  if (expandable) {\n    if (shared.isObject(expandIconProps)) {\n      IconOrPlaceholder = vue.createVNode(expandIcon[\"default\"], vue.mergeProps(expandIconProps, {\n        \"class\": [ns.e(\"expand-icon\"), ns.is(\"expanded\", expanded)],\n        \"size\": iconSize,\n        \"expanded\": expanded,\n        \"style\": iconStyle,\n        \"expandable\": true\n      }), null);\n    } else {\n      IconOrPlaceholder = vue.createVNode(\"div\", {\n        \"style\": [iconStyle, `width: ${iconSize}px; height: ${iconSize}px;`].join(\" \")\n      }, null);\n    }\n  }\n  return vue.createVNode(\"div\", vue.mergeProps({\n    \"class\": kls,\n    \"style\": cellStyle\n  }, extraCellProps, {\n    \"role\": \"cell\"\n  }), [IconOrPlaceholder, Cell]);\n};\nCellRenderer.inheritAttrs = false;\nexports[\"default\"] = CellRenderer;","map":{"version":3,"names":["columns","column","columnIndex","depth","expandIconProps","isScrolling","rowData","rowIndex","style","expandedRowKeys","ns","cellProps","_cellProps","expandColumnKey","indentSize","iconSize","rowKey","slots","cellStyle","utils","enforceUnit","placeholderSign","_private","vue","createVNode","em","cellRenderer","dataGetter","CellComponent","columnCellRenderer","default","props","cell","cellData","shared","isFunction","lodashUnified","get","dataKey","class","e","Cell","kls","align","constants","Alignment","CENTER","is","RIGHT","expandable","key","expanded","includes","IconOrPlaceholder","iconStyle","isObject","expandIcon","mergeProps","join","extraCellProps","CellRenderer","inheritAttrs"],"sources":["../../../../../../../packages/components/table-v2/src/renderers/cell.tsx"],"sourcesContent":["import { get } from 'lodash-unified'\nimport { isFunction, isObject } from '@element-plus/utils'\nimport { ExpandIcon, TableCell } from '../components'\nimport { Alignment } from '../constants'\nimport { placeholderSign } from '../private'\nimport { componentToSlot, enforceUnit, tryCall } from '../utils'\n\nimport type { FunctionalComponent, UnwrapNestedRefs, VNode } from 'vue'\nimport type { CellRendererParams } from '../types'\nimport type { TableV2RowCellRenderParam } from '../components'\nimport type { UseNamespaceReturn } from '@element-plus/hooks'\nimport type { UseTableReturn } from '../use-table'\nimport type { TableV2Props } from '../table'\n\ntype CellRendererProps = TableV2RowCellRenderParam &\n  Pick<\n    TableV2Props,\n    'cellProps' | 'expandColumnKey' | 'indentSize' | 'iconSize' | 'rowKey'\n  > &\n  UnwrapNestedRefs<Pick<UseTableReturn, 'expandedRowKeys'>> & {\n    ns: UseNamespaceReturn\n  }\n\nconst CellRenderer: FunctionalComponent<CellRendererProps> = (\n  {\n    // renderer props\n    columns,\n    column,\n    columnIndex,\n    depth,\n    expandIconProps,\n    isScrolling,\n    rowData,\n    rowIndex,\n    // from use-table\n    style,\n    expandedRowKeys,\n    ns,\n    // derived props\n    cellProps: _cellProps,\n    expandColumnKey,\n    indentSize,\n    iconSize,\n    rowKey,\n  },\n  { slots }\n) => {\n  const cellStyle = enforceUnit(style)\n\n  if (column.placeholderSign === placeholderSign) {\n    return <div class={ns.em('row-cell', 'placeholder')} style={cellStyle} />\n  }\n  const { cellRenderer, dataKey, dataGetter } = column\n\n  const columnCellRenderer = componentToSlot(cellRenderer)\n\n  const CellComponent =\n    columnCellRenderer ||\n    slots.default ||\n    ((props: CellRendererParams<any>) => <TableCell {...props} />)\n\n  const cellData = isFunction(dataGetter)\n    ? dataGetter({ columns, column, columnIndex, rowData, rowIndex })\n    : get(rowData, dataKey ?? '')\n\n  const extraCellProps = tryCall(_cellProps, {\n    cellData,\n    columns,\n    column,\n    columnIndex,\n    rowIndex,\n    rowData,\n  })\n\n  const cellProps = {\n    class: ns.e('cell-text'),\n    columns,\n    column,\n    columnIndex,\n    cellData,\n    isScrolling,\n    rowData,\n    rowIndex,\n  }\n\n  const Cell = CellComponent(cellProps)\n\n  const kls = [\n    ns.e('row-cell'),\n    column.class,\n    column.align === Alignment.CENTER && ns.is('align-center'),\n    column.align === Alignment.RIGHT && ns.is('align-right'),\n  ]\n\n  const expandable =\n    rowIndex >= 0 && expandColumnKey && column.key === expandColumnKey\n  const expanded = rowIndex >= 0 && expandedRowKeys.includes(rowData[rowKey])\n\n  let IconOrPlaceholder: VNode | undefined\n  const iconStyle = `margin-inline-start: ${depth * indentSize}px;`\n  if (expandable) {\n    if (isObject(expandIconProps)) {\n      IconOrPlaceholder = (\n        <ExpandIcon\n          {...expandIconProps}\n          class={[ns.e('expand-icon'), ns.is('expanded', expanded)]}\n          size={iconSize}\n          expanded={expanded}\n          style={iconStyle}\n          expandable\n        />\n      )\n    } else {\n      IconOrPlaceholder = (\n        <div\n          style={[\n            iconStyle,\n            `width: ${iconSize}px; height: ${iconSize}px;`,\n          ].join(' ')}\n        />\n      )\n    }\n  }\n\n  return (\n    <div class={kls} style={cellStyle} {...extraCellProps} role=\"cell\">\n      {IconOrPlaceholder}\n      {Cell}\n    </div>\n  )\n}\n\nCellRenderer.inheritAttrs = false\n\nexport default CellRenderer\n"],"mappings":";;;;;;;;;;;;;;;;EAuBMA,OAAA;EAEFC,MAAA;EACAC,WAFF;EAGEC,KAHF;EAIEC,eAJF;EAKEC,WALF;EAMEC,OANF;EAOEC,QAPF;EAQEC,KARF;EASEC,eATF;EAUEC,EAAA;EACAC,SAXF,EAAAC,UAAA;EAYEC,eAZF;EAaEC,UAbF;EAcEC,QAAA;EACAC;GAfF;EAiBEC;MAjBF;EAmBE,MAAAC,SAAA,GAAAC,KAAA,CAAAC,WAAA,CAAAZ,KAAA;EAEF,IAAAP,MAAA,CAAAoB,eAAA,KAAAC,QAAA,CAAAD,eAAA;IAAE,OAAAE,GAAA,CAAAC,WAAA;MACC,SAAAd,EAAA,CAAAe,EAAA;MACH,OAAe,EAAAP;;EAEf;EACE;IAAAQ,YAAA;WAA4D;IAA5DC;EACD,IAAA1B,MAAA;;EACD,MAAM2B,aAAA,GAAAC,kBAAA,IAAAZ,KAAA,CAAAa,OAAA,KAAAC,KAAA,IAAAR,GAAA,CAAAC,WAAA,CAAAQ,IAAA,aAAAD,KAAA;QAAAE,QAAA,GAAAC,MAAA,CAAAC,UAAA,CAAAR,UAAA,IAAAA,UAAA;IAAgB3B,OAAhB;IAAyBC,MAAA;IAAzBC,WAAN;IAEAI,OAAwB;;EAExB,KAAA8B,aAAA,CAAAC,GAAmB,CAAA/B,OAAA,EAAAgC,OACC,WAAAA,OAAA,GACb;;IAGDL,QAAA;IACWjC,OAAF;IAAWC,MAAX;IAAmBC,WAAnB;IAAgCK,QAAhC;IAAyCD;GAA1C,CADG;EAIjB,MAAMK,SAAc;IAClB4B,KADyC,EAAA7B,EAAA,CAAA8B,CAAA;IAEzCxC,OAFyC;IAGzCC,MAHyC;IAIzCC,WAJyC;IAKzC+B,QALyC;IAMzC5B,WAAA;IANFC,OAAA;IASAC;EACE;QADgBkC,IAAA,GAAAb,aAAA,CAAAjB,SAAA;QAAA+B,GAAA,IAAAhC,EAAA,CAAA8B,CAAA,cAAAvC,MAAA,CAAAsC,KAAA,EAAAtC,MAAA,CAAA0C,KAAA,KAAAC,SAAA,CAAAC,SAAA,CAAAC,MAAA,IAAApC,EAAA,CAAAqC,EAAA,kBAAA9C,MAAA,CAAA0C,KAAA,KAAAC,SAAA,CAAAC,SAAA,CAAAG,KAAA,IAAAtC,EAAA,CAAAqC,EAAA;QAAAE,UAAA,GAAA1C,QAAA,SAAAM,eAAA,IAAAZ,MAAA,CAAAiD,GAAA,KAAArC,eAAA;QAAAsC,QAAA,GAAA5C,QAAA,SAAAE,eAAA,CAAA2C,QAAA,CAAA9C,OAAA,CAAAU,MAAA;MAAAqC,iBAAA;QAAAC,SAAA,2BAAAnD,KAAA,GAAAW,UAAA;EAQhB,IAAAmC,UAAA;IARF,IAAAf,MAAA,CAAAqB,QAAA,CAAAnD,eAAA;MAWAiD,iBAA0B,GAAA9B,GAAA,CAAAC,WAAA,CAA1BgC,UAAA,aAAAjC,GAAA,CAAAkC,UAAA,CAAArD,eAAA;QAEM,OACJ,EAAE,CAACM,EAAE,CAAL8B,CAAA,cACM,GAAA9B,EAAA,CAAAqC,EAAA,CAFI,UAGV,EAAAI,QAAA;QAII,MAAU,EAAApC,QACN;QACJ,UAAQ,EAAWoC,QAAA;QAEzB,SAAAG,SAAA;QACM,YAAa;;IACnB;MACED,iBAAY,GAAA9B,GAAA,CAAAC,WAAmB;QAC7B,UAAA8B,SAAA,YAAAvC,QAAA,eAAAA,QAAiB,OAAA2C,IAAA;MAAA;IAAA;EAAA;EAAA,OAAAnC,GAAA,CAAAC,WAAA,QAAAD,GAAA,CAAAkC,UAAA;IAAA,SAAAf,GAAA;WAAjB,EAAAxB;EAUD,GAXDyC,cAWO;UACY;wBAEN,EAAAlB,IAEK;;AAIjBmB,YAAA,CAAAC,YAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}