export default class adispaly {
    constructor(opting = {
                    mobile:'640px',
                    pc:'1024px'
                }) {
           
        return {
            install(Vue, Opt ) {
                const sytleElement = window.document.createElement('style');
                sytleElement.innerText = '@media only screen and (max-width:'+opting.mobile+'){.avue-dispaly-only-pad,.avue-dispaly-only-pc{display:none!important}}@media only screen and (max-width:'+opting.pc+') and (min-width:'+opting.mobile+'){.avue-dispaly-only-mobile,.avue-dispaly-only-pc{display:none!important}}@media only screen and (min-width:'+opting.pc+'){.avue-dispaly-only-mobile,.avue-dispaly-only-pad{display:none!important}}'
                const head = window.document.getElementsByTagName('head');
                head[0].appendChild(sytleElement);
                Vue.directive('avue-dispaly', {
                    bind(el, binding) {
                        switch (binding.arg) {
                            case 'mobile':
                                setStyle(el, 'avue-dispaly-only-mobile');
                                break;
                            case 'pad':
                                setStyle(el, 'avue-dispaly-only-pad');
                                break;
                            case 'pc':
                                setStyle(el, 'avue-dispaly-only-pc');
                                break
                            case 'all':
                                setStyle(el, 'avue-dispaly-all');
                                break
                            default:
                                console.warn(binding.arg + '参数有误,无法识别');

                        }
                    }
                })
                function setStyle(el, type) {
                    el.className += ' ' + type + ' '
                }
            }
        }
    }
}